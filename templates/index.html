<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bardos Cafe</title>
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon/favicon.ico') }}">


  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-primary-subtle text-primary-emphasis">
    <div class="container-fluid justify-content-center">
      <a class="navbar-brand" href="#">
        <h1 class="display-2 mb-0 text-center">Bardos Cafe</h1>
      </a>
    </div>
  </nav>

  <!-- Offers Carousel -->
  <div id="offersCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
    <div class="carousel-inner">
      {% for offer in offers_deals %}
      <div class="carousel-item {% if loop.first %}active{% endif %}">
        <div class="p-5 mb-4 bg-light rounded-3 mb-4">
          <div class="container-fluid py-5 text-center">
            <h1 class="display-5 fw-bold text-success">{{ offer.title }}</h1>
            <p class="col-md-8 mx-auto fs-4">{{ offer.description }}</p>
            <a href="#deals-section" class="btn btn-outline-success btn-lg">Explore More</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#offersCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#offersCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
    <div class="carousel-indicators">
      {% for offer in offers_deals %}
      <button type="button" data-bs-target="#offersCarousel" data-bs-slide-to="{{ loop.index0 }}"
              class="{% if loop.first %}active{% endif %}" 
              aria-current="{% if loop.first %}true{% endif %}" 
              aria-label="Slide {{ loop.index }}"></button>
      {% endfor %}
    </div>
  </div>

  <!-- Menu Layout -->
  <div class="container mt-4">
    <div class="row">
      <!-- Sidebar Menu -->
      <div class="col-md-3">
        <ul class="list-group">
          <li class="list-group-item list-group-item-action active" onclick="showMenu('coffee')" aria-current="true">Coffee</li>
          <li class="list-group-item list-group-item-action" onclick="showMenu('bakery_pastries')">Bakery & Pastries</li>
          <li class="list-group-item list-group-item-action" onclick="showMenu('breakfast_brunch')">Breakfast Brunch</li>
          <li class="list-group-item list-group-item-action" onclick="showMenu('savory_bites')">Savory Bites</li>
          <li class="list-group-item list-group-item-action" onclick="showMenu('desserts')">Desserts</li>
        </ul>
      </div>

      <!-- Menu Cards -->
      <div class="col-md-9">
        {% for category, items in {
          'coffee': coffee,
          'bakery_pastries': bakery_pastries,
          'breakfast_brunch': breakfast_brunch,
          'savory_bites': savory_bites,
          'desserts': desserts
        }.items() %}
        <div id="{{ category }}" class="menu-section" style="display: none;">
          <div class="row">
            {% for item in items %}
            <div class="col-md-4 mb-4 px-2">
              <div class="card h-100">
                <div style="position: relative; width: 100%; min-height: 200px;">
                  <div class="spinner-grow"
                      role="status"
                      id="spinner-{{ category }}-{{ item['name'].replace(' ', '_') }}"
                      style="display: none; position: absolute; top: 50%; left: 50%;">
                    <span class="visually-hidden">Loading...</span>
                  </div>
                  <img src="{{ url_for('static', filename=category ~ '/' ~ item['name'] ~ '.jpg') }}"
                      class="card-img-top"
                      alt="{{ item['name'] }}"
                      onerror="
                        this.style.display='none';
                        document.getElementById('spinner-{{ category }}-{{ item['name'].replace(' ', '_') }}').style.display='inline-block';
                      ">
                </div>


     
                <div class="card-body">
                  <h5 class="card-title">{{ item['name'] }}</h5>
                  <p class="card-text">{{ item['details'] }}</p>
                  {% if item['price'] %}
                    <p class="card-text lead">Price: ₹{{ item['price'] }}</p>
                  {% endif %}
                  {% if item['stock'] == 0 %}
                    <p class="card-text text-danger fw-bold">Out of stock</p>
                  {% elif item['stock'] < 15 %}
                    <p class="card-text fw-bold" style="color: #ff5722;">Only {{ item['stock'] }} left</p> 
                  {% elif item['stock'] < 25 %}
                    <p class="card-text fw-bold" style="color: #17a2b8;">Limited stock</p> 
                  {% endif %}
                  <a href="/order" class="btn btn-primary">Order</a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <div class="container">
  <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
    <p class="col-md-4 mb-0 text-body-secondary">
      © 2025 Company, Inc
    </p>

    <a href="/" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none" aria-label="Bootstrap">
      <svg class="bi me-2" width="40" height="32" aria-hidden="true">
        <use xlink:href="#bootstrap"></use>
      </svg>
    </a>

    <ul class="nav col-md-4 justify-content-end">
      <li class="nav-item">
        <a href="#" class="nav-link px-2 text-body-secondary">Home</a>
      </li>
      <li class="nav-item">
        <a href="https://www.linkedin.com/in/rahul-sutradhar-42388128b" class="nav-link px-2 text-body-secondary">LinkedIn</a>
      </li>
      <li class="nav-item">
        <a href="mailto:rahul.sutradhar0904@gmail.com" class="nav-link px-2 text-body-secondary">Contact Us</a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link px-2 text-body-secondary">About</a>
      </li>
      <li class="nav-item">
        <a href="/staff_login" class="nav-link px-2 text-body-secondary">Staff-Login</a>

      </li>
    </ul>
    
  </footer>
</div>


  <!-- Menu Switch Script -->
  <script>
    function showMenu(category) {
      // Hide all sections
      document.querySelectorAll('.menu-section').forEach(section => {
        section.style.display = 'none';
      });
      // Show selected section
      document.getElementById(category).style.display = 'block';
      // Update active list item
      document.querySelectorAll('.list-group-item').forEach(item => {
        item.classList.remove('active');
      });
      event.target.classList.add('active');
    }
    // Show default section on load
    document.addEventListener("DOMContentLoaded", function() {
      document.getElementById("coffee").style.display = "block";
    });
  </script>

  <!-- Bootstrap 5 JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
